(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{103:function(e,a,n){"use strict";n.r(a),n.d(a,"frontMatter",(function(){return r})),n.d(a,"metadata",(function(){return l})),n.d(a,"toc",(function(){return c})),n.d(a,"default",(function(){return p}));var o=n(3),t=n(7),i=(n(0),n(141)),r={id:"circuitpython-entradas-analogicas",title:"Entrada Anal\xf3gica",slug:"/franzininho-wifi/exemplos-circuitpython/entradas-analogicas",description:"Este exemplo exibe como trabalhar com as entradas anal\xf3gicas na Franzininho WiFi",author:"Diana Santos e F\xe1bio Souza"},l={unversionedId:"FranzininhoWifi/exemplos-circuitpython/circuitpython-entradas-analogicas",id:"FranzininhoWifi/exemplos-circuitpython/circuitpython-entradas-analogicas",isDocsHomePage:!1,title:"Entrada Anal\xf3gica",description:"Este exemplo exibe como trabalhar com as entradas anal\xf3gicas na Franzininho WiFi",source:"@site/docs/FranzininhoWifi/exemplos-circuitpython/entrada-analogica.md",slug:"/franzininho-wifi/exemplos-circuitpython/entradas-analogicas",permalink:"/docs-franzininho-site/docs/franzininho-wifi/exemplos-circuitpython/entradas-analogicas",editUrl:"https://github.com/Franzininho/docs-franzininho-site/edit/main/docs/FranzininhoWifi/exemplos-circuitpython/entrada-analogica.md",version:"current",sidebar:"docs",previous:{title:"Entradas e Sa\xeddas Digitais",permalink:"/docs-franzininho-site/docs/franzininho-wifi/exemplos-circuitpython/entradas-saidas-digitais"},next:{title:"Primeiros Passos",permalink:"/docs-franzininho-site/docs/franzininho-wifi/exemplos-arduino/primeiros-passos"}},c=[{value:"Materiais necess\xe1rios",id:"materiais-necess\xe1rios",children:[]},{value:"Circuito",id:"circuito",children:[]},{value:"C\xf3digo",id:"c\xf3digo",children:[{value:"An\xe1lise do c\xf3digo (Exemplos 1 e 2)",id:"an\xe1lise-do-c\xf3digo-exemplos-1-e-2",children:[]},{value:"An\xe1lise do c\xf3digo (Exemplo 3)",id:"an\xe1lise-do-c\xf3digo-exemplo-3",children:[]}]},{value:"Conclus\xe3o",id:"conclus\xe3o",children:[]}],s={toc:c};function p(e){var a=e.components,r=Object(t.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},s,r,{components:a,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Neste exemplo aprenderemos como usar as entradas anal\xf3gicas. Veremos qual m\xf3dulo precisamos usar e como fazer a leitura do valor anal\xf3gico usando um potenci\xf4metro. Ao final faremos um exemplo para ligar e desligar um LED a partir do valor lido na entrada anal\xf3gica. Assim, ao final dessa etapa voc\xea estar\xe1 apto para ler sensores anal\xf3gicos."),Object(i.b)("h2",{id:"materiais-necess\xe1rios"},"Materiais necess\xe1rios"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"1 Placa Franzininho WiFi com CircuitPython;"),Object(i.b)("li",{parentName:"ul"},"1 Protoboard;"),Object(i.b)("li",{parentName:"ul"},"1 potenci\xf4metro de 10K;"),Object(i.b)("li",{parentName:"ul"},"1 LED vermelho de 3 mm;"),Object(i.b)("li",{parentName:"ul"},"1 Resistor 330 \u03a9;"),Object(i.b)("li",{parentName:"ul"},"Jumpers.")),Object(i.b)("h2",{id:"circuito"},"Circuito"),Object(i.b)("p",null,"Para os primeiros exemplos, fa\xe7a a seguinte montagem:"),Object(i.b)("p",null,Object(i.b)("img",{alt:"Circuito",src:n(293).default})),Object(i.b)("h2",{id:"c\xf3digo"},"C\xf3digo"),Object(i.b)("p",null,"Digite o c\xf3digo abaixo no arquivo code.py que est\xe1 no diret\xf3rio CIRCUITPY:"),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-python"}),"#Leitura de Entrada anal\xf3gica -  Exemplo 2\nimport time            #importa m\xf3dulo de temporiza\xe7\xe3o\nimport board            #importa m\xf3dulo da placa\nfrom analogio import AnalogIn    #immport m\xf3dulo de entrada anal\xf3gica\n\nanalog_in = AnalogIn(board.IO1) #mapeia pino anal\xf3gico\n\nwhile True:             #loop infinito\n    print((analog_in.value,))    #imprime o valor da leitura anal\xf3gica\n    time.sleep(0.2)         #aguarda 200 ms\n")),Object(i.b)("p",null,"Salve o arquivo e teste o funcionamento girando o potenci\xf4metro e no Mu Editor visualize os dados no terminal serial e no gr\xe1fico:"),Object(i.b)("p",null,Object(i.b)("img",{alt:"Teste 1",src:n(294).default})),Object(i.b)("p",null,"Note que os valores de convers\xe3o AD s\xe3o exibidos no terminal e no gr\xe1fico."),Object(i.b)("p",null,"Agora faremos um exemplo para converter esses valores em tens\xe3o."),Object(i.b)("p",null,"Digite o seguinte c\xf3digo:"),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-python"}),"#Leitura de Entrada anal\xf3gica - Exemplo 2\nimport time            #importa m\xf3dulo de temporiza\xe7\xe3o\nimport board            #importa m\xf3dulo da placa\nfrom analogio import AnalogIn    #import m\xf3dulo de entrada anal\xf3gica\n\nanalog_in = AnalogIn(board.IO1) #mapeia pino anal\xf3gico\n\ndef ler_tensao(pin):\n    return (pin.value * 3.3) / 65536\n\nwhile True:             #loop infinito\n    print((ler_tensao(analog_in),))    #imprime o valor da leitura anal\xf3gica\n    time.sleep(0.2)         #aguarda 200 ms\n")),Object(i.b)("p",null,"Salve o arquivo e teste o funcionamento girando o potenci\xf4metro e no Mu Editor visualize os dados no terminal serial e no gr\xe1fico:"),Object(i.b)("p",null,Object(i.b)("img",{alt:"Teste 2",src:n(295).default})),Object(i.b)("p",null,"Note que exibimos agora  o valor de tens\xe3o."),Object(i.b)("h3",{id:"an\xe1lise-do-c\xf3digo-exemplos-1-e-2"},"An\xe1lise do c\xf3digo (Exemplos 1 e 2)"),Object(i.b)("p",null,"Para acessar os pinos da placa precisamos importar o m\xf3dulo board:"),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-python"}),"import board\n")),Object(i.b)("p",null,"Como precisaremos de intervalos de temporiza\xe7\xe3o importamos o m\xf3dulo time:"),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-python"}),"import time\n")),Object(i.b)("p",null,"Trabalharemos como entradas anal\xf3gicas nesse exemplo, assim, precisamos importar o seguinte m\xf3dulo em analogio:"),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-python"}),"from analogio import AnalogIn #import m\xf3dulo de entrada anal\xf3gica\n")),Object(i.b)("p",null,"A Franzininho Wifi possui diversas entradas anal\xf3gicas. Para esse exemplo usamos a entrada anal\xf3gica no pino IO1"),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-python"}),"analog_in = AnalogIn(board.IO1) #mapeia pino anal\xf3gico\n")),Object(i.b)("p",null,"No loop infinito fazemos a leitura da convers\xe3o AD lendo o valor presente no pino em intervalos de 200 ms. No primeiro exemplos fizemos apenas a impress\xe3o do valor convertido:"),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-python"}),"while  True: #loop infinito  \n    print((analog_in.value,))  #imprime o valor da leitura anal\xf3gica  \n    time.sleep(0.2) #aguarda 200 ms\n")),Object(i.b)("p",null,"J\xe1 no segundo exemplo fizemos uma fun\xe7\xe3o que converte o valor lido no pino em tens\xe3o:"),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-python"}),"def  ler_tensao(pin):  \n    return (pin.value * 3.3) / 65536  \n  \nwhile  True: #loop infinito  \n    print((ler_tensao(analog_in),))  #imprime o valor da leitura anal\xf3gica  \n    time.sleep(0.2) #aguarda 200 ms\n")),Object(i.b)("p",null,"Agora faremos uma aplica\xe7\xe3o para ligar e desligar um LED dependo do valor lido no potenci\xf4metro."),Object(i.b)("p",null,"Digite o seguinte c\xf3digo:"),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-python"}),"#Leitura de Entrada anal\xf3gica - Exemplo 3\nimport time            #importa m\xf3dulo de temporiza\xe7\xe3o\nimport board            #importa m\xf3dulo da placa\nfrom analogio import AnalogIn    #immport m\xf3dulo de entrada anal\xf3gica\nfrom digitalio import DigitalInOut, Direction\n\nanalog_in = AnalogIn(board.IO1) #mapeia pino anal\xf3gico\n\nled = DigitalInOut(board.IO4)\nled.direction = Direction.OUTPUT\n\ndef ler_tensao(pin):\n    return (pin.value * 3.3) / 65536\n\nwhile True:             #loop infinito\n    print((ler_tensao(analog_in),))    #imprime o valor da leitura anal\xf3gica\n    \n    if(ler_tensao(analog_in)>2.5):      #se valor lido for maior que 2.5V\n        led.value = 1               #liga LED\n    else:                   #se n\xe3o\n        led.value =0               #desliga o LED\n    \n    time.sleep(0.2)         #aguarda 200 ms\n")),Object(i.b)("p",null,"Salve o arquivo e teste o funcionamento girando o potenci\xf4metro. Verifique se o LED acender\xe1 quando ultrapassar o valor de 2,5V (exibido no terminal). Quando abaixo de 2,5V o LED deve apagar."),Object(i.b)("p",null,Object(i.b)("img",{alt:"Teste 3",src:n(296).default})),Object(i.b)("h3",{id:"an\xe1lise-do-c\xf3digo-exemplo-3"},"An\xe1lise do c\xf3digo (Exemplo 3)"),Object(i.b)("p",null,"Nesse exemplo adicionamos uma sa\xedda digital para controlar um LED."),Object(i.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(o.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(i.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"Dica")),Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Se voc\xea ainda n\xe3o sabe trabalhar com entradas anal\xf3gicas. Consulte o exemplo ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"https://franzininho.github.io/docs-franzininho-site/docs/franzininho-wifi/exemplos-circuitpython/entradas-saidas-digitais"}),"Entradas e Sa\xeddas Digitais"),"."))),Object(i.b)("p",null,"No loop principal fizemos um teste para verificar o valor de tens\xe3o da entrada anal\xf3gico, caso acima de 2,5V liga o LED e abaixo de 2,5 V desliga o LED."),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-python"}),"while  True: #loop infinito  \n    print((ler_tensao(analog_in),))  #imprime o valor da leitura anal\xf3gica  \n  \n    if(ler_tensao(analog_in)>2.5): #se valor lido for maior que 2.5V  \n        led.value = 1  #liga LED  \n    else:  #se n\xe3o  \n        led.value =0  #desliga o LED  \n    \n    time.sleep(0.2) #aguarda 200 ms\n")),Object(i.b)("h2",{id:"conclus\xe3o"},"Conclus\xe3o"),Object(i.b)("p",null,"Neste exemplo, aprendemos como fazer a leitura de uma entrada anal\xf3gica. Para voc\xea ler outras entradas pode seguir o mesmo padr\xe3o. Por\xe9m, \xe9 importante verificar se o pino possui essa funcionalidade."),Object(i.b)("p",null,"Com esse recurso poderemos ler diversos sensores anal\xf3gicos como de temperatura, aceler\xf4metro, som, etc."),Object(i.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(o.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(i.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"Desafio")),Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Fa\xe7a a leitura de outro potenci\xf4metro usando outra entrada anal\xf3gica. Exiba no gr\xe1fico o valor dos 2 potenci\xf4metros em simult\xe2neo."))),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(o.a)({parentName:"tr"},{align:null}),"Autor"),Object(i.b)("th",Object(o.a)({parentName:"tr"},{align:null}),"Diana Santos"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(o.a)({parentName:"tr"},{align:null}),"Autor"),Object(i.b)("td",Object(o.a)({parentName:"tr"},{align:null}),Object(i.b)("a",Object(o.a)({parentName:"td"},{href:"https://github.com/FBSeletronica"}),"F\xe1bio Souza"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(o.a)({parentName:"tr"},{align:null}),"Data:"),Object(i.b)("td",Object(o.a)({parentName:"tr"},{align:null}),"16/09/201")))))}p.isMDXComponent=!0},141:function(e,a,n){"use strict";n.d(a,"a",(function(){return d})),n.d(a,"b",(function(){return b}));var o=n(0),t=n.n(o);function i(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){i(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function c(e,a){if(null==e)return{};var n,o,t=function(e,a){if(null==e)return{};var n,o,t={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],a.indexOf(n)>=0||(t[n]=e[n]);return t}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var s=t.a.createContext({}),p=function(e){var a=t.a.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):l(l({},a),e)),n},d=function(e){var a=p(e.components);return t.a.createElement(s.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return t.a.createElement(t.a.Fragment,{},a)}},u=t.a.forwardRef((function(e,a){var n=e.components,o=e.mdxType,i=e.originalType,r=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=p(n),u=o,b=d["".concat(r,".").concat(u)]||d[u]||m[u]||i;return n?t.a.createElement(b,l(l({ref:a},s),{},{components:n})):t.a.createElement(b,l({ref:a},s))}));function b(e,a){var n=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=u;var l={};for(var c in a)hasOwnProperty.call(a,c)&&(l[c]=a[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,r[1]=l;for(var s=2;s<i;s++)r[s]=n[s];return t.a.createElement.apply(null,r)}return t.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},293:function(e,a,n){"use strict";n.r(a),a.default=n.p+"assets/images/circuito-337482518ca8b8ea5e0631611abb8e67.png"},294:function(e,a,n){"use strict";n.r(a),a.default=n.p+"assets/images/grafico_entrada_analogica-1-76717640082c66f149c344256345a47c.gif"},295:function(e,a,n){"use strict";n.r(a),a.default=n.p+"assets/images/grafico_entrada_analogica-2-6e0e667074f33acf85d9a4775bad2013.gif"},296:function(e,a,n){"use strict";n.r(a),a.default=n.p+"assets/images/grafico_entrada_analogica-3-a3dd8b9ac8f4c314d4ba9db8516dba43.gif"}}]);